module mem;

foreign {
    malloc: fn(size: usize) -> opaqueptr;
    free: fn(ptr: opaqueptr);
}

pub fn alloc(comptime T: type) -> *T {
    let allocation = malloc(@sizeOf(T));
    let cast: *T = @cast(allocation);
    return cast;
}

