module strings;

type StringData = {
    buffer: *[byte]
    length: int
}

foreign {
    __compiler_intrinsic_str_data: fn(s: str) -> StringData;
}

pub fn strlen(s: str) -> int {
    let data: StringData = __compiler_intrinsic_str_data(s);
    return data.length;
}

pub fn strbytes(s: str) -> *[byte] {
    let data: StringData = __compiler_intrinsic_str_data(s);
    return data.buffer;
}
